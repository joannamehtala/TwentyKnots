<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style type="text/css">
      html, body, #map-canvas { height: 100%; margin: 0; padding: 0;}
    </style>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC1pEM1hGTESl2YoesdrVnhuWfCdBsvJ78&sensor=false">
    </script>
    <script type="text/javascript">
            
    /********  GOOGLE MAPS SETIT ALKAA ********/    
     
    /* meidän pääkartta */    
    var map;    
    
    function initialize() {
        var mapOptions = {
          center: { lat: 60.13176, lng: 24.793814},
          zoom: 12
        
        };
        map = new google.maps.Map(document.getElementById('map-canvas'),
            mapOptions);

        var marker = new google.maps.Marker({
                  position: { lat: 60.13176, lng: 24.793814},
                  map: map,
                  title: 'Uluru (Ayers Rock)'
        });

        google.maps.event.addListener(marker, 'click', function() {
                suvisaaristo.piirraReitti(map);
                suvisaaristo.avaaInfoWindow(map, marker);
                suvisaaristo.markkerit[0].setMap(map);
              });

        

         
    }

    google.maps.event.addDomListener(window, 'load', initialize);

      /********** Luodaan retki objekti ja array johon niitä tallennetaan **********/    
    
    /* retkien koordinaattien säilömiseen suunniteltu array */    
        
        
    /* luodaan rekti olio */
    function retki(nimi, koordinaatit, tiedot, zoomLevel){
        this.nimi = nimi;
        this.koordinaatit = koordinaatit;
        this.tiedot = tiedot;
        this.zoomLevel = zoomLevel;
        this.markkerit = [];
        this.muutaZoom = function(kartta) {
          kartta.setZoom(this.zoomLevel);
          console.log("muutettu");
        }
        this.piirraReitti = function(kartta) {
          var reitti = new google.maps.Polyline({
            path: suvisaaristo.koordinaatit,
            geodesic: true,
            strokeColor: '#FFFFFF',
            strokeOpacity: 1.0,
            strokeWeight: 2
            });
            reitti.setMap(kartta);
            this.muutaZoom(kartta);
        }

        this.avaaInfoWindow = function(map, marker){
            var info = tiedot.annaHTMLMuodossa(); 
            var infowindow = new google.maps.InfoWindow({
                  content: info
            });

            infowindow.open(map, marker);
        }
    }

    function tiedot(nimi, kuvaus, ajankohta, kesto, hinta){
        this.nimi = nimi;
        this.kuvaus = kuvaus;
        this.ajankohta = ajankohta;
        this.kesto = kesto;
        this.hinta = hinta;

        this.annaHTMLMuodossa = function(){
            var htmlMuodossa = '<div id="content">'+
            '<div id="siteNotice">'+
            '</div>'+
            '<h1 id="firstHeading" class="firstHeading">'+this.nimi+'</h1>'+
            '<div id="bodyContent">'+
            '<p>'+this.kuvaus+'</p>'+
            '</div>'+
            '</div>';

            return htmlMuodossa;
        }
    }

    
    /* luodaan retkiä */ 
    var nimi = "suvisaaristo";
    var kuvaus = "Kevään ensimmäisellä retkellä kierrämme kauniin Suinon saaren. Monipuolisen melontareitin varrella pääsee ihastelemaan saaren kaunista luontoa, upeita näkymiä aavalle merelle sekä suloisia saaristohuviloita. Pysähdymme retken aikana luodolle nauttimaan kuumaa juotavaa ja retkieväitä. Jokainen osallistuja saa paikanpäältä lämpimän märkäpuvun ja tossut.";
    var ajankohta = "huhtikuu";
    var kesto = "2 tuntia";
    var hinta = "50 €"; 
    var tiedotSuvisaaristo = new tiedot(nimi, kuvaus, ajankohta, kesto, hinta);

    var suvisaaristo = new retki("suvisaaristo", [
      new google.maps.LatLng(60.13176, 24.793814),
      new google.maps.LatLng(60.135664, 24.814234),
      new google.maps.LatLng(60.124721, 24.824534),
      new google.maps.LatLng(60.117024, 24.797068),
      new google.maps.LatLng(60.128996, 24.791232),
      new google.maps.LatLng(60.13176, 24.793814)
      ], tiedotSuvisaaristo, 14);

    /* luodaan retken markkereita */    
    var kuvia1  = new google.maps.Marker({
                  position: { lat: 60.135023, lng: 24.816037},
                  map: map
    });
    
    /* lisätäänmarkkerit retken markkerit listaan */
    suvisaaristo.markkerit.push(kuvia1);
        
    console.log(suvisaaristo.markkerit[0]);
    

    </script>
  </head>
  <body>
<div id="map-canvas"></div>
  </body>
</html>